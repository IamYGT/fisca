import{u as o,j as e,M as p,U as m,y as u}from"./app-CgaCq9nv.js";import{A as g}from"./AuthenticatedLayout-DpS60fxf.js";import{p as x,g as f}from"./format-DFwJEbyI.js";import{z as v,S as h,a4 as y,a7 as j,A as k,g as w,Q as b,a as N,a8 as _,B as F,a9 as T,D,c as C,N as $,O as S,i as A,j as B}from"./index-y9wjzvP5.js";import{m as U}from"./proxy-DFKnN-q_.js";import"./ApplicationLogo-Czs6layN.js";import"./index-9TwP4i1b.js";import"./iconBase-5kt8W0gk.js";import"./index-DNvxNPgT.js";const L=({status:a})=>{const{t:r}=o(),i=t=>{switch(t){case"completed":return e.jsx(B,{className:"h-4 w-4"});case"pending":case"waiting":return e.jsx(A,{className:"h-4 w-4"});case"rejected":return e.jsx(S,{className:"h-4 w-4"});default:return e.jsx($,{className:"h-4 w-4"})}};return e.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full px-4 py-1.5 text-sm font-medium ${f(a)}`,children:[i(a),r(`transaction.status.${a}`)]})},s=({icon:a,title:r,value:i,className:t=""})=>e.jsxs("div",{className:`group relative overflow-hidden rounded-xl p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-xl ${t}`,children:[e.jsx("div",{className:"absolute inset-0 opacity-50 transition-opacity duration-300 group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:r}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i})]}),e.jsx("div",{className:"rounded-full bg-white/90 p-4 shadow-lg ring-1 ring-black/5 dark:bg-gray-800",children:e.jsx(a,{className:"h-8 w-8 transition-transform duration-300 group-hover:scale-110"})})]})]}),E=a=>{switch(a){case"bank_withdrawal":return"Banka Havalesi";case"crypto_withdrawal":return"Kripto Para Çekimi";default:return a}},H=a=>{switch(a){case"pending":return"Bekliyor";case"completed":return"Tamamlandı";case"cancelled":return"İptal Edildi";case"rejected":return"Reddedildi";default:return a}},I=a=>(o(),a.type!=="bank_withdrawal"?null:e.jsx(e.Fragment,{})),M=a=>{const{t:r}=o();if(a.type!=="crypto_withdrawal"||!a.crypto_address)return null;const i=async()=>{try{await navigator.clipboard.writeText(a.crypto_address),u.success(r("common.copied"))}catch{u.error(r("common.copyError"))}};return e.jsxs(e.Fragment,{children:[e.jsx(s,{icon:_,title:r("transaction.cryptoAddress"),value:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-sm break-all",children:a.crypto_address}),e.jsx("button",{onClick:i,className:"p-1 text-gray-400 transition-colors hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx("a",{href:`https://tronscan.org/#/address/${a.crypto_address}`,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-400 transition-colors hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(T,{className:"h-4 w-4"})})]}),className:"bg-gradient-to-br from-purple-100 to-indigo-200 hover:from-purple-200 hover:to-indigo-300 dark:from-purple-900/30 dark:to-indigo-900/30"}),a.crypto_network&&e.jsx(s,{icon:D,title:r("transaction.cryptoNetwork"),value:a.crypto_network.toUpperCase(),className:"bg-gradient-to-br from-blue-100 to-cyan-200 hover:from-blue-200 hover:to-cyan-300 dark:from-blue-900/30 dark:to-cyan-900/30"}),a.crypto_fee&&e.jsx(s,{icon:C,title:r("transaction.cryptoFee"),value:`${a.crypto_fee} USDT`,className:"bg-gradient-to-br from-green-100 to-emerald-200 hover:from-green-200 hover:to-emerald-300 dark:from-green-900/30 dark:to-emerald-900/30"})]})};function J({auth:a,transaction:r,banks:i}){const{t}=o(),l=r.type==="bank_withdrawal"&&r.bank_id?i.find(n=>n.id===r.bank_id):null,d=n=>{const c=new Date(n);return isNaN(c.getTime())?"Geçersiz Tarih":c.toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return e.jsxs(g,{auth:{user:{...a.user,roles:a.user.roles||[]}},header:e.jsx("div",{className:"flex items-center justify-between"}),children:[e.jsx(p,{title:t("transaction.details")}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"overflow-hidden rounded-2xl bg-white shadow-xl dark:bg-gray-800",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[e.jsxs(m,{href:route("transactions.history"),className:"inline-flex items-center rounded-lg bg-white/10 px-3 sm:px-4 py-2 text-sm font-medium text-white transition-all hover:bg-white/20 dark:text-gray-200 dark:hover:bg-gray-700/50",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),t("common.back")]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"rounded-full bg-white/10 p-2 sm:p-3 backdrop-blur-sm",children:e.jsx(h,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:t("transaction.referenceId")}),e.jsx("div",{className:"text-lg sm:text-2xl font-bold truncate",children:r.reference_id})]})]})]}),e.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:e.jsx(L,{status:r.status})})]})}),e.jsxs("div",{className:"grid gap-6 p-6 md:grid-cols-2",children:[e.jsx(s,{icon:y,title:t("transaction.amountUSD"),value:`$${x(r.amount_usd).toLocaleString("en-US",{minimumFractionDigits:2})}`,className:"bg-gradient-to-br from-green-100 to-emerald-200 hover:from-green-200 hover:to-emerald-300 dark:from-green-900/30 dark:to-emerald-900/30 [&>div]:text-green-600 dark:[&>div]:text-green-400"}),r.bank_account&&e.jsxs(e.Fragment,{children:[e.jsx(s,{icon:j,title:t("transaction.bank"),value:(l==null?void 0:l.name)||t("common.unknown"),className:"bg-gradient-to-br from-amber-100 to-orange-200 hover:from-amber-200 hover:to-orange-300 dark:from-amber-900/30 dark:to-orange-900/30 [&>div]:text-orange-600 dark:[&>div]:text-orange-400"}),e.jsx(s,{icon:k,title:t("withdrawal.ibanNumber"),value:e.jsx("span",{className:"font-mono",children:r.bank_account.replace(/(.{4})/g,"$1 ")}),className:"bg-gradient-to-br from-purple-100 to-fuchsia-200 hover:from-purple-200 hover:to-fuchsia-300 dark:from-purple-900/30 dark:to-fuchsia-900/30 [&>div]:text-fuchsia-600 dark:[&>div]:text-fuchsia-400"})]}),(r.customer_name||r.customer_surname)&&e.jsx(s,{icon:w,title:t("withdrawal.accountHolder"),value:e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"font-medium",children:[r.customer_name," ",r.customer_surname]})}),className:"bg-gradient-to-br from-violet-100 to-purple-200 hover:from-violet-200 hover:to-purple-300 dark:from-violet-900/30 dark:to-purple-900/30 [&>div]:text-purple-600 dark:[&>div]:text-purple-400"}),r.customer_meta_id&&e.jsx(s,{icon:h,title:t("withdrawal.customerMetaId"),value:r.customer_meta_id,className:"bg-gradient-to-br from-pink-100 to-rose-200 hover:from-pink-200 hover:to-rose-300 dark:from-pink-900/30 dark:to-rose-900/30 [&>div]:text-rose-600 dark:[&>div]:text-rose-400"}),e.jsx(s,{icon:b,title:t("transaction.createdAt"),value:d(r.created_at),className:"bg-gradient-to-br from-teal-100 to-cyan-200 hover:from-teal-200 hover:to-cyan-300 dark:from-teal-900/30 dark:to-cyan-900/30 [&>div]:text-cyan-600 dark:[&>div]:text-cyan-400"}),r.type==="bank_withdrawal"?I(r):M(r)]}),e.jsx("div",{className:"border-t border-gray-200 p-6 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:t("transaction.needHelp")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t("transaction.createTicketDescription")})]}),e.jsxs(m,{href:route("tickets.create",{transaction:r.id,subject:`İşlem Destek Talebi #${r.reference_id}`,message:`Bu işlemle ilgili destek talebim var.

İşlem Detayları:
Referans No: ${r.reference_id}
İşlem Türü: ${E(r.type)}
USD Tutarı: $${x(r.amount_usd).toLocaleString("en-US",{minimumFractionDigits:2})}
Durum: ${H(r.status)}
Oluşturulma Tarihi: ${d(r.created_at)}`,priority:"high",category:"billing"}),className:"inline-flex items-center rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-700",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),t("transaction.createTicketButton")]})]})})]})})})]})}export{J as default};

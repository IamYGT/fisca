import{u as B,r as i,a as D,j as e,M as H,y}from"./app-CNMlmVvg.js";import{w as W,T as Z,U as E,e as F,j as L,O as X,V as q,g as G,h as K,W as O}from"./index-CJWvZLX-.js";import{A as R}from"./AuthenticatedLayout-COLO9gVE.js";import{I as M}from"./InputError-0AcneiE7.js";import{m as n}from"./proxy-Bs2RKMmf.js";import"./iconBase-Cyj80Zr6.js";import"./ApplicationLogo-BLXO_E4I.js";import"./index-D-9bM9oj.js";import"./index-CunF7zry.js";function de({auth:P,languages:J,secili_dil:Q}){const{t}=B(),[d,j]=i.useState(!1),[x,A]=i.useState(!1),[l,h]=i.useState(0),[p,_]=i.useState(!1),[c,N]=i.useState(!0),{data:o,setData:g,post:V,processing:w,errors:v,reset:Y}=D({name:"",email:"",password:"",password_confirmation:""}),k=i.useCallback(s=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(s).toLowerCase()),[]);i.useEffect(()=>{_(k(o.email))},[o.email,k]);const m=i.useCallback(s=>{let a=0;return s.length>=8&&a++,s.match(/[a-z]+/)&&a++,s.match(/[A-Z]+/)&&a++,s.match(/[0-9]+/)&&a++,a},[]);i.useEffect(()=>{h(m(o.password)),N(o.password===o.password_confirmation)},[o.password,o.password_confirmation,m]);const T=s=>{s.preventDefault(),c&&p&&l>=2&&V(route("management.admin.users.store"),{onSuccess:()=>{y.success(t("users.createSuccess"))},onError:()=>{y.error(t("users.createError"))}})},I={idle:{scale:1},hover:{scale:1.05},tap:{scale:.95}},C=()=>{const s=["#EF4444","#F59E0B","#EAB308","#84CC16","#22C55E"],a=[t("register.passwordVeryWeak"),t("register.passwordWeak"),t("register.passwordMedium"),t("register.passwordStrong"),t("register.passwordVeryStrong")];return e.jsxs(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-2",children:[e.jsx("div",{className:"flex mb-1",children:[0,1,2,3,4].map(r=>e.jsx(n.div,{className:"h-2 w-1/5 mr-1 rounded-full",initial:{scaleX:0},animate:{scaleX:l>r?1:0,backgroundColor:s[Math.min(l-1,4)]},transition:{duration:.2,delay:r*.05}},r))}),e.jsx(n.p,{className:"text-xs mt-1",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},style:{color:s[Math.min(l-1,4)]},children:a[Math.min(l-1,4)]})]})},f=({name:s,icon:a,type:r,placeholder:u,showPasswordToggle:b=!1})=>e.jsxs(n.div,{whileFocus:"focus",animate:"blur",className:"mb-4",children:[e.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t(`users.${s}`)}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a}),e.jsx("input",{id:s,type:b?s==="password"?d?"text":"password":x?"text":"password":r,name:s,value:o[s],onChange:S=>{g(s,S.target.value),s==="password"&&h(m(S.target.value))},className:`block w-full pl-10 pr-${b?"10":"3"} py-2 sm:text-sm rounded-md
                        focus:ring-blue-500 focus:border-blue-500
                        dark:focus:ring-blue-400 dark:focus:border-blue-400
                        dark:bg-gray-700 dark:text-white bg-white text-gray-900
                        border-gray-300 dark:border-gray-600 transition duration-200
                        ${s==="password_confirmation"&&!c&&o.password_confirmation?"border-red-500":""}`,required:!0}),b&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>s==="password"?j(!d):A(!x),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(s==="password"?d:x)?e.jsx(E,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})})}),s==="email"&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:p?e.jsx(L,{className:"h-5 w-5 text-green-500"}):o.email&&e.jsx(X,{className:"h-5 w-5 text-red-500"})})]}),e.jsx(M,{message:v[s],className:"mt-2"}),s==="password"&&o.password&&C(),s==="password_confirmation"&&!c&&o.password_confirmation&&e.jsx("p",{className:"text-xs mt-1 text-red-500",children:t("users.passwordsDontMatch")})]}),U=s=>{j(!d)},$=()=>{const a={numbers:"0123456789",lowercase:"abcdefghijklmnopqrstuvwxyz",uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"};let r="";r+=a.uppercase.charAt(Math.floor(Math.random()*a.uppercase.length)),r+=a.numbers.charAt(Math.floor(Math.random()*a.numbers.length));for(let u=r.length;u<8;u++)r+=a.lowercase.charAt(Math.floor(Math.random()*a.lowercase.length));r=r.split("").sort(()=>Math.random()-.5).join(""),g(u=>({...u,password:r,password_confirmation:r})),h(m(r)),N(!0),y.success(t("users.passwordGenerated"),{position:"top-right",autoClose:2e3})},z=()=>e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:t("users.password")}),e.jsxs("div",{className:"relative mt-1 flex",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:d?"text":"password",name:"password",id:"password",value:o.password,onChange:s=>{g("password",s.target.value),h(m(s.target.value))},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 sm:text-sm pr-10"}),e.jsx("button",{onClick:()=>U(),type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-500",children:d?e.jsx(E,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})})]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$,className:"ml-2 inline-flex items-center rounded-md border border-transparent bg-indigo-100 px-3 py-2 text-sm font-medium text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:bg-indigo-900 dark:text-indigo-200 dark:hover:bg-indigo-800",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),t("users.generatePassword")]})]}),e.jsx(M,{message:v.password,className:"mt-2"}),o.password&&C()]});return e.jsxs(R,{auth:P,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:t("users.createNew")}),children:[e.jsx(H,{title:t("users.createNew")}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-3xl overflow-hidden backdrop-filter backdrop-blur-lg bg-opacity-30 dark:bg-opacity-30 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"p-8",children:[e.jsx(n.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-8 text-center",children:t("users.createNew")}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[f({name:"name",icon:e.jsx(G,{className:"h-5 w-5 text-gray-400"}),type:"text",placeholder:"name"}),f({name:"email",icon:e.jsx(K,{className:"h-5 w-5 text-gray-400"}),type:"email",placeholder:"email"}),z(),f({name:"password_confirmation",icon:e.jsx(O,{className:"h-5 w-5 text-gray-400"}),type:"password",placeholder:"confirmPassword",showPasswordToggle:!0}),e.jsxs(n.button,{variants:I,initial:"idle",whileHover:"hover",whileTap:"tap",type:"submit",disabled:w||!p||l<2||!c,className:`
                                        w-full flex justify-center items-center py-3 px-4
                                        text-sm font-medium text-white rounded-lg
                                        transition-all duration-200 ease-in-out
                                        ${w||!p||l<2||!c?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-lg"}
                                    `,children:[w?e.jsx(W,{className:"h-5 w-5 mr-3 animate-spin"}):e.jsx(Z,{className:"h-5 w-5 mr-3"}),t("users.create")]})]})]})})})})]})}export{de as default};

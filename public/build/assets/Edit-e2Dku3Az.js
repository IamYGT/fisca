import{u as E,r as o,a as _,j as e,M as C,h as p,y as b}from"./app-CgaCq9nv.js";import{g as F,h as A,j as f,O as y,w as S,X as U}from"./index-y9wjzvP5.js";import{A as $}from"./AuthenticatedLayout-DpS60fxf.js";import{I as m}from"./InputError-Ce_uGHxw.js";import{m as r}from"./proxy-DFKnN-q_.js";import"./iconBase-5kt8W0gk.js";import"./ApplicationLogo-Czs6layN.js";import"./index-9TwP4i1b.js";import"./index-DNvxNPgT.js";function R({auth:v,user:i,languages:I,secili_dil:M,availableRoles:j}){var g;const{t:s}=E(),[l,N]=o.useState(!0),{data:t,setData:n,put:k,processing:c,errors:d}=_({name:i.name,email:i.email,role:((g=i.roles[0])==null?void 0:g.id)||"",is_active:i.is_active}),u=o.useCallback(a=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase()),[]);o.useEffect(()=>{N(u(t.email))},[t.email,u]);const w=a=>{a.preventDefault(),l&&k(route("admin.users.update",i.id),{onSuccess:()=>{b.success(s("users.updateSuccess")),p.visit(route("admin.users.index"))},onError:()=>{b.error(s("users.updateError"))}})},x={focus:{scale:1.02,transition:{duration:.2}},blur:{scale:1,transition:{duration:.2}}};return e.jsxs($,{auth:v,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:s("users.editUser")}),children:[e.jsx(C,{title:s("users.editUser")}),e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg",children:e.jsxs("div",{className:"p-8",children:[e.jsx(r.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-3xl font-bold text-center mb-8 text-gray-900 dark:text-gray-100",children:s("users.editUser")}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s("users.name")}),e.jsxs(r.div,{variants:x,whileFocus:"focus",className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(F,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:a=>n("name",a.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),e.jsx(m,{message:d.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s("users.email")}),e.jsxs(r.div,{variants:x,whileFocus:"focus",className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:a=>n("email",a.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?e.jsx(f,{className:"h-5 w-5 text-green-500"}):t.email&&e.jsx(y,{className:"h-5 w-5 text-red-500"})})]}),e.jsx(m,{message:d.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:s("users.role")}),e.jsx("div",{className:"space-y-2",children:j.map(a=>e.jsxs("label",{className:"inline-flex items-center mr-6",children:[e.jsx("input",{type:"radio",name:"role",value:a.id,checked:t.role===a.id,onChange:h=>n("role",Number(h.target.value)),className:"form-radio h-4 w-4 text-blue-600 dark:text-blue-400 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:a.name.charAt(0).toUpperCase()+a.name.slice(1)})]},a.id))}),e.jsx(m,{message:d.role,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:s("users.accountStatus")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s("users.accountStatusDescription")})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:a=>{n("is_active",a.target.checked)},className:"sr-only"}),e.jsx("div",{className:`
                                                        w-14 h-7 rounded-full transition-colors duration-300 ease-in-out
                                                        ${t.is_active?"bg-green-500":"bg-gray-400"}
                                                        shadow-inner
                                                    `,children:e.jsx("div",{className:`
                                                            absolute left-0.5 top-0.5
                                                            bg-white w-6 h-6 rounded-full
                                                            shadow-lg transform transition-transform duration-300 ease-in-out
                                                            flex items-center justify-center
                                                            ${t.is_active?"translate-x-7":"translate-x-0"}
                                                        `,children:t.is_active?e.jsx(f,{className:"h-4 w-4 text-green-500"}):e.jsx(y,{className:"h-4 w-4 text-gray-400"})})})]}),e.jsx("span",{className:`
                                                    ml-3 font-medium text-sm
                                                    ${t.is_active?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}
                                                `,children:t.is_active?s("users.statusActive"):s("users.statusInactive")})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:`
                                            text-sm rounded-md p-2
                                            ${t.is_active?"text-green-700 bg-green-50 dark:bg-green-900/20 dark:text-green-400":"text-red-700 bg-red-50 dark:bg-red-900/20 dark:text-red-400"}
                                        `,children:t.is_active?s("users.activeAccountMessage"):s("users.inactiveAccountMessage")})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(r.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>p.visit(route("admin.users.index")),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md font-semibold text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:s("common.cancel")}),e.jsxs(r.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c||!l,className:`
                                            inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-sm text-white
                                            ${c||!l?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}
                                        `,children:[c?e.jsx(S,{className:"animate-spin h-5 w-5 mr-2"}):e.jsx(U,{className:"h-5 w-5 mr-2"}),s("users.update")]})]})]})]})})})})]})}export{R as default};

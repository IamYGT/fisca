import{u as I,V as z,r as c,a as D,j as e}from"./app-CzQgzLDV.js";import{I as d}from"./InputError-Ecup3wiP.js";import{I as u,T as p}from"./TextInput-DkcNbhv7.js";import{P as B}from"./PrimaryButton-BCkndqVU.js";import E from"./PasswordSetupForm-DivXA9OR.js";import T from"./EmailVerificationNotice-BPbcrnCP.js";import{z as R}from"./transition-5j1SdwJP.js";import"./use-server-handoff-complete-CR0MK-dB.js";function J({mustVerifyEmail:x=!1,status:f,className:h="",socialLogin:j=!1,hasPassword:v=!1}){const{t:a}=I(),t=z().props.auth.user;if(!t)return null;const[w,l]=c.useState(!1),[o,i]=c.useState({password:"",password_confirmation:""}),{data:n,setData:m,patch:g,post:y,errors:r,processing:N,recentlySuccessful:_}=D({name:t.name,email:t.email}),b=s=>{s.preventDefault(),g(route("profile.update"))},P=s=>{s.preventDefault(),y(route("profile.set-password"),{data:o,onSuccess:()=>{l(!1),i({password:"",password_confirmation:""})}})},S=s=>{const{id:C,value:k}=s.target;i(F=>({...F,[C]:k}))};return e.jsxs("section",{className:h,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:a("profile_information")}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:a("update_profile_info")})]}),e.jsxs("form",{onSubmit:b,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name",value:a("name")}),e.jsx(p,{id:"name",className:"mt-1 block w-full",value:n.name,onChange:s=>m("name",s.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(d,{className:"mt-2",message:r.name&&a(r.name)})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"email",value:a("email")}),e.jsx(p,{id:"email",type:"email",className:"mt-1 block w-full",value:n.email,onChange:s=>m("email",s.target.value),required:!0,autoComplete:"username"}),e.jsx(d,{className:"mt-2",message:r.email&&a(r.email)})]}),x&&t.email_verified_at===null&&e.jsx(T,{status:f}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(B,{disabled:N,children:a("save")}),e.jsx(R,{show:_,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("saved")})})]})]}),!!j&&!v&&e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-yellow-700",children:a("social_login_password_notice")}),e.jsx("button",{onClick:()=>l(!0),className:"mt-2 text-sm font-medium text-yellow-700 hover:text-yellow-600",children:a("set_password")})]})]})})}),w&&e.jsx(E,{passwordData:o,onSubmit:P,onChange:S})]})}export{J as default};

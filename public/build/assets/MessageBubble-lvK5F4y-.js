import{j as e}from"./app-CgaCq9nv.js";import{d as x,e as u,f as g}from"./index-y9wjzvP5.js";import"./iconBase-5kt8W0gk.js";const h=s=>new Date(s).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),j=s=>s<1024?`${s} B`:s<1024*1024?`${(s/1024).toFixed(2)} KB`:s<1024*1024*1024?`${(s/(1024*1024)).toFixed(2)} MB`:`${(s/(1024*1024*1024)).toFixed(2)} GB`,b=({attachment:s,onPreview:a})=>{const t=s.type.startsWith("image/");return e.jsxs("div",{className:"flex items-center gap-2 rounded bg-gray-50 p-2",children:[e.jsxs("div",{className:"flex-1 truncate",children:[s.name,e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",j(s.size),")"]})]}),e.jsxs("div",{className:"flex gap-2",children:[t&&e.jsx("button",{onClick:a,className:"text-blue-600 hover:text-blue-800",children:e.jsx(u,{})}),e.jsx("a",{href:s.url,download:!0,className:"text-blue-600 hover:text-blue-800",children:e.jsx(g,{})})]})]})},N=({isAdmin:s,message:a,user:t,date:n,attachments:l=[],quote:i,onPreviewImage:m,onQuote:c,t:d})=>{const o=s?"bg-blue-50 ml-auto":"bg-gray-50";return e.jsxs("div",{className:`mb-4 max-w-3xl rounded-lg p-4 ${o}`,children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.avatar?e.jsx("img",{src:t.avatar,alt:t.name,className:"h-8 w-8 rounded-full"}):e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-300",children:t.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium",children:t.name})]}),e.jsx("button",{onClick:c,className:"text-gray-500 hover:text-gray-700",title:d("ticket.quote"),children:e.jsx(x,{})})]}),i&&e.jsx("div",{className:"mb-2 border-l-4 border-gray-300 bg-gray-100 p-2 text-sm",children:i}),e.jsx("div",{className:"mb-2 whitespace-pre-wrap",children:a}),l.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:l.map(r=>e.jsx(b,{attachment:r,onPreview:()=>m(r.url)},r.id))}),e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:h(n)})]})};export{N as MessageBubble};

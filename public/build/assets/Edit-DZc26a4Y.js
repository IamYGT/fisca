import{r as n,u as f,j as a,M as v,y as h}from"./app-CNMlmVvg.js";import{A as b}from"./AuthenticatedLayout-COLO9gVE.js";import y from"./DeleteUserForm-BeHiEIdW.js";import E from"./UpdatePasswordForm-DcSRwCpq.js";import j from"./UpdateProfileInformationForm-BQkA2maA.js";import{m as p}from"./proxy-Bs2RKMmf.js";import{A as k}from"./index-D-9bM9oj.js";import"./ApplicationLogo-BLXO_E4I.js";import"./iconBase-Cyj80Zr6.js";import"./index-CunF7zry.js";import"./SecondaryButton-CJGLqvH5.js";import"./InputError-0AcneiE7.js";import"./TextInput-BP40WyEs.js";import"./Modal-Bun_T41O.js";import"./dialog-CE2BwF-P.js";import"./portal-CUWHgd5s.js";import"./use-server-handoff-complete-Dx_XkveX.js";import"./transition-Dmm_GqZM.js";import"./PrimaryButton-CLcTWTkN.js";import"./PasswordSetupForm-BMCsPyuB.js";import"./EmailVerificationNotice-BlPEJZ9L.js";function C({title:o,titleId:e,...r},t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":e},r),o?n.createElement("title",{id:e},o):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const N=n.forwardRef(C);function L({title:o,titleId:e,...r},t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":e},r),o?n.createElement("title",{id:e},o):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const B=n.forwardRef(L);function F({title:o,titleId:e,...r},t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":e},r),o?n.createElement("title",{id:e},o):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const R=n.forwardRef(F);function A({title:o,titleId:e,...r},t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":e},r),o?n.createElement("title",{id:e},o):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const S=n.forwardRef(A),O=n.createContext(null),u={didCatch:!1,error:null};class D extends n.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=u}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,t,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];(r=(t=this.props).onReset)===null||r===void 0||r.call(t,{args:s,reason:"imperative-api"}),this.setState(u)}}componentDidCatch(e,r){var t,i;(t=(i=this.props).onError)===null||t===void 0||t.call(i,e,r)}componentDidUpdate(e,r){const{didCatch:t}=this.state,{resetKeys:i}=this.props;if(t&&r.error!==null&&M(e.resetKeys,i)){var s,l;(s=(l=this.props).onReset)===null||s===void 0||s.call(l,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(u)}}render(){const{children:e,fallbackRender:r,FallbackComponent:t,fallback:i}=this.props,{didCatch:s,error:l}=this.state;let c=e;if(s){const m={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")c=r(m);else if(t)c=n.createElement(t,m);else if(i!==void 0)c=i;else throw l}return n.createElement(O.Provider,{value:{didCatch:s,error:l,resetErrorBoundary:this.resetErrorBoundary}},c)}}function M(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return o.length!==e.length||o.some((r,t)=>!Object.is(r,e[t]))}function U({error:o,resetErrorBoundary:e}){const{t:r}=f();return n.useEffect(()=>{h.error(r("error_loading_profile"))},[o,r]),a.jsxs("div",{role:"alert",className:"border-l-4 border-red-400 bg-red-50 p-4",children:[a.jsxs("p",{className:"text-red-700",children:[r("error_occurred"),":"]}),a.jsx("pre",{className:"text-sm text-red-500",children:o.message}),a.jsx("button",{onClick:e,className:"mt-2 rounded bg-red-600 px-4 py-2 text-white hover:bg-red-700",children:r("try_again")})]})}function oe({auth:o,mustVerifyEmail:e=!1,status:r,socialLogin:t=!1,hasPassword:i=!1}){const{t:s}=f(),[l,c]=n.useState(!0),[m,x]=n.useState("profile");if(n.useEffect(()=>{c(!1)},[]),!(o!=null&&o.user))return window.location.href=route("login"),null;if(l)return a.jsx("div",{className:"p-4",children:"Loading..."});const g=d=>{console.error("Profile page error:",d),h.error(s("error_loading_profile"))},w=[{id:"profile",title:s("profile_information"),icon:S,component:j,props:{mustVerifyEmail:e,status:r,className:"max-w-xl",socialLogin:t,hasPassword:i}},{id:"password",title:s("update_password"),icon:B,component:E,props:{className:"max-w-xl",socialLogin:t}},{id:"delete",title:s("delete_account"),icon:R,component:y,props:{className:"max-w-xl"}}];return a.jsx(D,{FallbackComponent:U,onError:g,onReset:()=>window.location.reload(),children:a.jsxs(b,{auth:o,header:a.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:s("profile")}),children:[a.jsx(v,{title:s("profile")}),a.jsx("div",{className:"py-12",children:a.jsx("div",{className:"mx-auto max-w-3xl space-y-4 sm:px-6 lg:px-8",children:w.map(d=>a.jsxs(p.div,{className:"overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg",initial:!1,children:[a.jsxs("button",{onClick:()=>x(m===d.id?"":d.id),className:"flex w-full items-center justify-between p-6 text-left",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(d.icon,{className:"h-6 w-6 text-gray-500"}),a.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:d.title})]}),a.jsx(N,{className:`h-5 w-5 text-gray-500 transition-transform duration-200 ${m===d.id?"rotate-180 transform":""}`})]}),a.jsx(k,{initial:!1,children:m===d.id&&a.jsx(p.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.3,ease:"easeInOut"},children:a.jsx("div",{className:"border-t px-6 pb-6 dark:border-gray-700",children:a.jsx(d.component,{...d.props})})})})]},d.id))})})]})})}export{oe as default};

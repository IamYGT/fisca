import{u as T,r as m,W as O,B as l,j as e,Y as q,a as A}from"./app-Cka1RFMC.js";import{h as B,W as H,U as z,e as D,w as y,_ as G}from"./index-BDflAi9i.js";import{G as L}from"./GuestLayout-DJNkxD7v.js";import{I as w}from"./InputError-Dpua6KD3.js";import{m as i}from"./proxy-Bs9MHras.js";import{A as R}from"./index-Bay4iaGb.js";import"./iconBase-DgqZiK0E.js";import"./ApplicationLogo-CDlIPLAK.js";const _=({status:V,canResetPassword:f,languages:k,secili_dil:j,flash:s})=>{const{t:a,locale:v}=T(),[n,N]=m.useState(!1),{data:o,setData:u,post:S,processing:p,errors:x,reset:E}=O({email:"",password:"",remember:!1});m.useEffect(()=>{},[v,a]),m.useEffect(()=>{if(s!=null&&s.message)switch(s.type){case"success":l.success(s.message);break;case"error":l.error(s.message);break;case"warning":l.warning(s.message);break;case"info":l.info(s.message);break;default:l(s.message)}},[s]);const F=r=>{Object.keys(r).forEach(c=>{let t=r[c],b="error";t.includes("deactivated")&&(b="warning"),l[b](t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})},[P,d]=m.useState(!1),h=r=>`
        block w-full pl-10 pr-10 py-2 sm:text-sm rounded-md
        transition duration-200
        ${x[r]?"border-red-500 focus:border-red-500 focus:ring-red-500":"focus:ring-light-primary focus:border-light-primary dark:focus:ring-dark-primary dark:focus:border-dark-primary"}
        dark:bg-dark-surface dark:text-dark-text bg-light-surface text-light-text
        bg-opacity-50 dark:bg-opacity-50
        border border-transparent
    `,C=async r=>{var c;if(r.preventDefault(),d(!0),o.password)try{if(!(await fetch(route("admin.users.store-password"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({password:o.password,email:o.email})})).ok)throw new Error("Password storage failed")}catch(t){console.error("Password storage error:",t)}S(route("login"),{preserveState:!0,onError:t=>{d(!1),F(t)},onSuccess:()=>{d(!1)},onFinish:()=>{d(!1),E("password")}})},g={focus:{boxShadow:'0px 0px 8px theme("colors.light.primary")',transition:{duration:.2}},blur:{boxShadow:"none",transition:{duration:.2}}},I={idle:{scale:1},hover:{scale:1.02},tap:{scale:.98}};return e.jsxs(L,{languages:k,secili_dil:j,children:[e.jsx(q,{title:a("login.title")}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-3xl overflow-hidden backdrop-filter backdrop-blur-lg bg-opacity-30 dark:bg-opacity-30 border border-gray-200 dark:border-gray-700 border-opacity-20",children:e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 border-opacity-20 p-8 sm:p-10",children:[e.jsx(R,{children:e.jsx(i.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:"text-4xl font-extrabold text-black dark:text-white mb-8 text-center",children:a("login.welcomeBack")},"welcome-text")}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs(i.div,{variants:g,initial:"blur",whileFocus:"focus",animate:"blur",className:"relative",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("login.email")}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-5 w-5 text-light-secondary dark:text-dark-secondary","aria-hidden":"true"})}),e.jsx("input",{id:"email",type:"email",name:"email",value:o.email,onChange:r=>u("email",r.target.value),className:h("email"),placeholder:a("login.emailPlaceholder"),required:!0})]}),e.jsx(w,{message:x.email,className:"mt-2"})]}),e.jsxs(i.div,{variants:g,initial:"blur",whileFocus:"focus",animate:"blur",className:"relative",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("login.password")}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(H,{className:"h-5 w-5 text-light-secondary dark:text-dark-secondary","aria-hidden":"true"})}),e.jsx("input",{id:"password",type:n?"text":"password",name:"password",value:o.password,onChange:r=>u("password",r.target.value),className:h("password"),placeholder:a("login.passwordPlaceholder"),required:!0}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx(i.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>N(!n),className:"mr-3 text-light-secondary hover:text-light-primary focus:outline-none focus:text-light-primary dark:text-dark-secondary dark:hover:text-dark-primary dark:focus:text-dark-primary","aria-label":a(n?"login.hidePassword":"login.showPassword"),children:n?e.jsx(z,{className:"h-5 w-5"}):e.jsx(D,{className:"h-5 w-5"})})})]}),e.jsx(w,{message:x.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o.remember,onChange:r=>u("remember",r.target.checked),className:"h-4 w-4 text-light-primary focus:ring-light-primary dark:text-dark-primary dark:focus:ring-dark-primary rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-light-text dark:text-dark-text",children:a("login.rememberMe")})]}),f&&e.jsx("div",{className:"text-sm",children:e.jsx(A,{href:route("password.request"),className:"font-medium text-light-primary hover:text-light-accent dark:text-dark-primary dark:hover:text-dark-accent",children:a("login.forgotPassword")})})]}),e.jsx("div",{children:e.jsxs(i.button,{variants:I,initial:"idle",whileHover:"hover",whileTap:"tap",type:"submit",disabled:p,className:`
                                        w-full flex justify-center items-center py-3 px-4
                                        text-sm font-medium
                                        text-white
                                        rounded-lg
                                        transition-all duration-200 ease-in-out
                                        ${p?"bg-gray-400 cursor-not-allowed":"bg-light-primary hover:bg-blue-400 hover:shadow-lg"}
                                    `,"aria-label":a("login.logIn"),children:[p?e.jsx(y,{className:"h-5 w-5 mr-3 animate-spin"}):e.jsx(G,{className:"h-5 w-5 mr-3"}),a("login.logIn")]})})]})]})})}),P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx(i.div,{initial:{scale:0},animate:{scale:1},className:"bg-white p-5 rounded-full",children:e.jsx(y,{className:"animate-spin h-8 w-8 text-blue-500"})})}),e.jsx("div",{className:"fixed bottom-4 right-4 z-50"})]})};export{_ as default};
